# 서버 port 변경
server.port = 8080

# JDBC 연동 (띄어쓰기도 포함되니 주의)
spring.datasource.url=jdbc:mysql://localhost:3306/springweb2
spring.datasource.username=root
spring.datasource.password=1234

# 전체 로깅
# logging.level.root = debug

# 로그 설정
# 레벨 : debug < info < warn < error
logging.level.example.d10.controller = debug

# 로그 파일 처리 설정 (프로젝트 이하 경로)
logging.file.name = logs/app.log

# 로그 파일 설정/옵션
# 최대 파일 크기
logging.logback.rollingpolicy.max-file-size = 1MB
# 최대 파일 개수
logging.logback.rollingpolicy.max-history = 10

# 프레임워크 내부 로그 줄이기 (운영 단계에서 warn 이상만 출력)
spring.main.log-startup-info = false
logging.level.org.springframework.boot.web = warn
logging.level.org.springframework.boot.web.embedded.tomcat = warn
logging.level.org.apache.catalina = warn
logging.level.org.apache.coyote = warn
logging.level.org.apache.web = warn

# 로그 형식 설정
# %msg : 로그 메세지, %d{y M d H m s} : 날짜/시간
# %level : 레벨, logger : 클래스/경로
logging.pattern.file = [%d{yyyy-MM-dd HH:mm:ss}] %msg %n
logging.pattern.console = [%d{yyyy-MM-dd HH:mm:ss}] %level %logger %msg %n

# 서버 실행 시 SQL 파일 실행 (개발 단계)
# always, never
spring.sql.init.mode = never
# schema.sql : DDL, data.sql : DML (데이터베이스 생성/삭제 불가능, 직접 해야 함)
# drop table 필요, 참조 테이블 (fk) 먼저 삭제해야 함
# classpath : 프로젝트 내 resources 폴더
spring.sql.init.schema-locations=classpath:/sql/schema.sql
spring.sql.init.data-locations=classpath:/sql/data.sql

# myBatis 설정 (@Annotation, XML)
# Mapper XML 파일 경로 지정
mybatis.mapper-locations=classpath:/mappers/*.xml

# redis 연동
spring.data.redis.host=localhost
spring.data.redis.port=6379

# OAuth2 설정
# 스프링에서는 구글을 공식적으로 지원함
# 구글 설정 (발급받은 ID, 보안 비밀번호, 로그인 성공 시 반환되는 경로 (baseUrl : 현재 서버 도메인), 동의 항목)
spring.security.oauth2.client.registration.google.client-id='google id'
spring.security.oauth2.client.registration.google.client-secret='google secret'
spring.security.oauth2.client.registration.google.redirect-uri={baseUrl}/login/oauth2/code/google
spring.security.oauth2.client.registration.google.scope=email,profile

# 스프링에서는 카카오/네이버를 공식적으로 지원하지 않음
# 카카오 설정
spring.security.oauth2.client.registration.kakao.client-id='kakao id'
spring.security.oauth2.client.registration.kakao.client-secret='kakao secret'
spring.security.oauth2.client.registration.kakao.redirect-uri={baseUrl}/login/oauth2/code/kakao
spring.security.oauth2.client.registration.kakao.scope=profile_nickname
spring.security.oauth2.client.registration.kakao.client-authentication-method=client_secret_post
spring.security.oauth2.client.registration.kakao.authorization-grant-type=authorization_code
# 토큰 요청 주소
spring.security.oauth2.client.provider.kakao.token-uri=https://kauth.kakao.com/oauth/token
# 인증된 정보(동의 항목) 요청 주소
spring.security.oauth2.client.provider.kakao.authorization-uri=https://kauth.kakao.com/oauth/authorize
# 회원들의 동의 항목 식별 이름과 유저 정보가 있는 주소
spring.security.oauth2.client.provider.kakao.user-name-attribute=id
spring.security.oauth2.client.provider.kakao.user-info-uri=https://kapi.kakao.com/v2/user/me

# JPA DDA 설정 (Entity 생성/수정/삭제)
# 테이블 (삭제 후) 생성
spring.jpa.hibernate.ddl-auto=create
# 테이블 (존재하면) 수정, (존재하지 않으면) 생성
# spring.jpa.hibernate.ddl-auto=update
# 테이블 직접 관리 (기능 없음, 기본값)
# spring.jpa.hibernate.ddl-auto=none

# JPA 가 처리한 SQL 를 콘솔에 표시
spring.jpa.show-sql=true
# 콘솔에 출력된 SQL 형식(줄바꿈) 표시
spring.jpa.properties.hibernate.format_sql=true
# JPA 가 처리한 매개변수(?)를 콘솔에 표시
logging.level.org.hibernate.sql=debug
logging.level.org.hibernate.orm.jdbc.bind=trace